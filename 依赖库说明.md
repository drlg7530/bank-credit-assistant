# é¡¹ç›®ä¾èµ–åº“è¯´æ˜

## ğŸ“¦ ä¾èµ–åº“åˆ†ç±»åˆ—è¡¨

### ä¸€ã€æ ¸å¿ƒå¿…éœ€åº“ï¼ˆå¿…é¡»å®‰è£…ï¼‰

#### 1. Webæ¡†æ¶
- **flask** (>=2.3.0,<3.0.0)
  - ç”¨é€”ï¼šæä¾›Webç•Œé¢å’ŒAPIæ¥å£
  - ä½¿ç”¨ä½ç½®ï¼š`src/api/app_flask.py`

#### 2. å­˜å‚¨å’Œæ•°æ®åº“
- **redis** (>=5.0.0,<6.0.0)
  - ç”¨é€”ï¼šL2ä¸šåŠ¡çŠ¶æ€è®°å¿†ã€Sessionç®¡ç†
  - ä½¿ç”¨ä½ç½®ï¼š`src/context/session_manager.py`, `src/context/l2_memory.py`
  
- **elasticsearch** (>=8.0.0,<9.0.0)
  - ç”¨é€”ï¼šRAGå‘é‡æœç´¢ã€L1/L2è®°å¿†å­˜å‚¨
  - ä½¿ç”¨ä½ç½®ï¼š`src/rag/query.py`, `src/context/l1_memory.py`, `src/context/l2_memory.py`

#### 3. å¤§æ¨¡å‹å’ŒAI
- **dashscope** (>=1.14.0)
  - ç”¨é€”ï¼šé˜¿é‡Œäº‘ç™¾ç‚¼APIï¼Œè°ƒç”¨é€šä¹‰åƒé—®ç­‰å¤§æ¨¡å‹
  - ä½¿ç”¨ä½ç½®ï¼š`src/rag/query.py`, `src/intent/classification.py`
  - éœ€è¦ç¯å¢ƒå˜é‡ï¼š`DASHSCOPE_API_KEY`

- **transformers** (>=4.30.0)
  - ç”¨é€”ï¼šHugging Face Transformersï¼Œæœ¬åœ°LLMå’ŒEmbeddingæ¨¡å‹
  - ä½¿ç”¨ä½ç½®ï¼š`src/rag/query.py`, `src/intent/classification.py`

- **torch** (>=2.0.0)
  - ç”¨é€”ï¼šPyTorchæ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œæ¨¡å‹æ¨ç†
  - ä½¿ç”¨ä½ç½®ï¼š`src/rag/query.py`, `src/intent/classification.py`

- **modelscope** (>=1.9.0)
  - ç”¨é€”ï¼šModelScopeæ¨¡å‹åº“ï¼Œä¸‹è½½å’ŒåŠ è½½Embeddingæ¨¡å‹
  - ä½¿ç”¨ä½ç½®ï¼š`src/rag/query.py`

#### 4. æ•°æ®å¤„ç†
- **numpy** (>=1.24.0,<2.0.0)
  - ç”¨é€”ï¼šæ•°å€¼è®¡ç®—ã€å‘é‡è¿ç®—
  - ä½¿ç”¨ä½ç½®ï¼š`src/rag/query.py`, `src/prediction/`

- **pandas** (>=2.0.0,<3.0.0)
  - ç”¨é€”ï¼šæ•°æ®å¤„ç†ã€ç‰¹å¾æå–
  - ä½¿ç”¨ä½ç½®ï¼š`src/prediction/`

### äºŒã€é¢„æµ‹æ¨¡å—åº“ï¼ˆé¢„æµ‹åŠŸèƒ½éœ€è¦ï¼‰

- **lightgbm** (>=4.0.0,<5.0.0)
  - ç”¨é€”ï¼šLightGBMæ¢¯åº¦æå‡æ¡†æ¶ï¼Œå®¢æˆ·è´·æ¬¾æ„å‘é¢„æµ‹
  - ä½¿ç”¨ä½ç½®ï¼š`src/prediction/model_train.py`, `src/prediction/model_predict_test.py`

- **scikit-learn** (>=1.3.0,<2.0.0)
  - ç”¨é€”ï¼šæ•°æ®é¢„å¤„ç†ã€æ¨¡å‹è¯„ä¼°
  - ä½¿ç”¨ä½ç½®ï¼š`src/prediction/feature_extraction.py`, `src/prediction/model_train.py`

- **pymysql** (>=1.0.0,<2.0.0)
  - ç”¨é€”ï¼šMySQLæ•°æ®åº“è¿æ¥ï¼ŒæŸ¥è¯¢å®¢æˆ·æ•°æ®
  - ä½¿ç”¨ä½ç½®ï¼š`src/prediction/data_query.py`

### ä¸‰ã€å¯é€‰åº“

- **datasets** (>=2.14.0)
  - ç”¨é€”ï¼šHugging Face Datasetsï¼Œä¸‹è½½å®¢æˆ·æ•°æ®é›†
  - ä½¿ç”¨ä½ç½®ï¼š`src/dateset_down.py`
  - è¯´æ˜ï¼šå¦‚æœå·²æœ‰å®¢æˆ·æ•°æ®ï¼Œå¯ä»¥ä¸å®‰è£…

## ğŸš€ å®‰è£…æ–¹å¼

### æ–¹å¼1ï¼šä½¿ç”¨requirements.txtï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨æ¸…åé•œåƒå®‰è£…ï¼ˆæ¨èï¼‰
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# æˆ–ä½¿ç”¨é˜¿é‡Œé•œåƒ
pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/
```

### æ–¹å¼2ï¼šæ‰‹åŠ¨å®‰è£…æ ¸å¿ƒåº“

```bash
# æ ¸å¿ƒå¿…éœ€åº“
pip install flask redis elasticsearch dashscope transformers torch modelscope numpy pandas -i https://pypi.tuna.tsinghua.edu.cn/simple

# é¢„æµ‹æ¨¡å—åº“ï¼ˆå¦‚æœéœ€è¦é¢„æµ‹åŠŸèƒ½ï¼‰
pip install lightgbm scikit-learn pymysql -i https://pypi.tuna.tsinghua.edu.cn/simple

# å¯é€‰åº“
pip install datasets -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### æ–¹å¼3ï¼šåˆ†æ¨¡å—å®‰è£…

```bash
# 1. Webå’Œå­˜å‚¨
pip install flask redis elasticsearch -i https://pypi.tuna.tsinghua.edu.cn/simple

# 2. å¤§æ¨¡å‹ç›¸å…³
pip install dashscope transformers torch modelscope -i https://pypi.tuna.tsinghua.edu.cn/simple

# 3. æ•°æ®å¤„ç†
pip install numpy pandas -i https://pypi.tuna.tsinghua.edu.cn/simple

# 4. é¢„æµ‹æ¨¡å—ï¼ˆå¯é€‰ï¼‰
pip install lightgbm scikit-learn pymysql -i https://pypi.tuna.tsinghua.edu.cn/simple
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç‰ˆæœ¬å…¼å®¹æ€§**
   - æ‰€æœ‰ç‰ˆæœ¬å·éƒ½é€‰æ‹©äº†é€‚é…ä¸”ç¨³å®šçš„ç‰ˆæœ¬
   - é¿å…ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬å¯èƒ½çš„ä¸å…¼å®¹é—®é¢˜
   - å¦‚æœé‡åˆ°ç‰ˆæœ¬å†²çªï¼Œä¼˜å…ˆä½¿ç”¨requirements.txtä¸­çš„ç‰ˆæœ¬

2. **å®‰è£…é¡ºåº**
   - å»ºè®®å…ˆå®‰è£…torchï¼ˆä½“ç§¯è¾ƒå¤§ï¼Œå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼‰
   - ç„¶åå®‰è£…å…¶ä»–åº“

3. **ç¯å¢ƒå˜é‡**
   - `DASHSCOPE_API_KEY`ï¼šé˜¿é‡Œäº‘ç™¾ç‚¼APIå¯†é’¥ï¼ˆå¿…éœ€ï¼‰
   - `LLM_MODE`ï¼šLLMæ¨¡å¼ï¼ˆ'bailian'æˆ–'local'ï¼Œé»˜è®¤'bailian'ï¼‰
   - `EMBEDDING_MODEL`ï¼šEmbeddingæ¨¡å‹åç§°ï¼ˆé»˜è®¤'Qwen/Qwen3-Embedding-0.6B'ï¼‰

4. **ç³»ç»Ÿè¦æ±‚**
   - Python >= 3.8
   - å¦‚æœä½¿ç”¨æœ¬åœ°LLMï¼Œå»ºè®®æœ‰GPUï¼ˆCUDAæ”¯æŒï¼‰
   - Rediså’ŒElasticsearchéœ€è¦å•ç‹¬å®‰è£…å’Œå¯åŠ¨

5. **é™çº§è¿è¡Œ**
   - å¦‚æœæŸäº›åº“æœªå®‰è£…ï¼Œç³»ç»Ÿä¼šé™çº§è¿è¡Œï¼ˆæ‰“å°è­¦å‘Šä½†ä¸å½±å“ä¸»æµç¨‹ï¼‰
   - ä¾‹å¦‚ï¼šRedisæœªå®‰è£…æ—¶ï¼ŒL2è®°å¿†åŠŸèƒ½ä¸å¯ç”¨ï¼Œä½†ä¸å½±å“æŸ¥è¯¢åŠŸèƒ½

## ğŸ“‹ å¿«é€Ÿæ£€æŸ¥

æ£€æŸ¥å·²å®‰è£…çš„åº“ï¼š
```bash
pip list | grep -E "flask|redis|elasticsearch|dashscope|transformers|torch|modelscope|numpy|pandas|lightgbm|scikit-learn|pymysql"
```

æ£€æŸ¥å…³é”®åº“ç‰ˆæœ¬ï¼š
```bash
python -c "import flask; print(f'flask: {flask.__version__}')"
python -c "import redis; print(f'redis: {redis.__version__}')"
python -c "import elasticsearch; print(f'elasticsearch: {elasticsearch.__version__}')"
python -c "import dashscope; print(f'dashscope: {dashscope.__version__}')"
python -c "import transformers; print(f'transformers: {transformers.__version__}')"
python -c "import torch; print(f'torch: {torch.__version__}')"
```

